<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.amber.min.css"
    />
    <title>Birds Scoresheet</title>
    {{- partial "seo_tags.html" . -}}
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <style>
      .emoji::before {
        font-size: 1rem;
        content: attr(data-before);
      }
      .with-buttons {
        grid-template-columns: 12% 1fr 12%;
      }
      .emoji-button {
        font-size: 0;
        border: 0;
      }
      .score {
        text-align: center;
      }
    </style>
    <script type="importmap">
      {
        "imports": {
          "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.prod.js"
        }
      }
    </script>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-68QK6M81JF"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-68QK6M81JF");
    </script>
  </head>
  <script type="module">
    import { createApp, ref, computed } from "vue";

    const scores = ref({
      birds: 0,
      bonus: 0,
      goals: 0,
      eggs: 0,
      food: 0,
      tucked: 0,
      nectar: 0,
      duet: 0,
    });

    const app = createApp({
      setup() {
        return {
          scores,
          score: computed({
            get() {
              return Object.values(scores.value)
                .filter((a) => a)
                .reduce((a, b) => a + b, 0);
            },
          }),
        };
      },
    });
    // Delimiters changed to evade collision with Hugo
    app.config.compilerOptions.delimiters = ["${", "}"];
    app.mount("#app");
  </script>
  <body id="app">
    <main class="container">
      <form>
        <fieldset>
          {{- partial "wingspan_score.html" (dict "Label" "Birds" "Name" "birds" "Emoji" "ğŸ•Šï¸") -}}
          {{- partial "wingspan_score.html" (dict "Label" "Bonus Cards" "Name" "bonus" "Emoji" "ğŸ€") -}}
          {{- partial "wingspan_score.html" (dict "Label" "End of Round Goals" "Name" "goals" "Emoji" "ğŸ§Š") -}}
          {{- partial "wingspan_score.html" (dict "Label" "Eggs" "Name" "eggs" "Emoji" "ğŸ¥š") -}}
          {{- partial "wingspan_score.html" (dict "Label" "Food" "Name" "food" "Emoji" "ğŸ›") -}}
          {{- partial "wingspan_score.html" (dict "Label" "Tucked" "Name" "tucked" "Emoji" "ğŸ‚ ") -}}
          {{- partial "wingspan_score.html" (dict "Label" "Nectar" "Name" "nectar" "Emoji" "ğŸŒº") -}}
          {{- partial "wingspan_score.html" (dict "Label" "Duet" "Name" "duet" "Emoji" "â˜¯ï¸") -}}
        </fieldset>
      </form>
      <article class="score">Score: ${ score }</article>
    </main>
  </body>
</html>
